!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e){(new WOW).init();var o,n=null,s=new Array,l="",i=0,r="",a=!1,c=!1,d=!1,u=1,f=5,h=["red","blue","yellow"],p=["red","#2196F3","yellow"];if(null!=localStorage["color-choice"])var g=localStorage["color-choice"];else g="blue";if(null==localStorage.firstTime){var b=!0;localStorage.firstTime=!0}else b=!1;b&&$("#pull-bar").css("left","0px");var v="";for(let t=0;t<h.length;t++)v+='<button id="color-'+h[t]+'" class="'+h[t]+'"></button>\n\n    ';$("#color-choices").html(v);for(let t=0;t<h.length;t++)$("."+h[t]).css("background-color",p[t]);for(let t=0;t<h.length;t++)$("#color-"+h[t]).click((function(){for(let e=0;e<h.length;e++)e!=t&&$("#color-"+h[e]).css("box-shadow","none");localStorage["color-choice"]=h[t],$(this).css("box-shadow","0 0 0 1.7pt black"),g=h[t],$(".moveableheader").css("background-color",p[t]),"yellow"==h[t]?$(".moveableheader").css("color","#000"):$(".moveableheader").css("color","#fff")}));var m=!1;function k(){for(let o=0;o<8;o++)if(null!=y(o).spots){var t=y(o).spots,e=new Array;for(let o=0;o<u*f;o++)o<t.length?e.push(t[o]):e.push(!1);y(o).spots=e,x()}o.ref.set({columns:f,rows:u},{merge:!0}).then(()=>{console.log("Cols "+o.data().columns),console.log("Rows "+o.data().rows)})}function y(t){return console.log(n),0==t?n.zero:1==t?n.first:2==t?n.second:3==t?n.third:4==t?n.fourth:5==t?n.fifth:6==t?n.sixth:7==t?n.seventh:void 0}function w(){$("#students-display").html("");for(let e=0;e<s.length;e++){var t=$("#students-display").html()+'<div class="student-info">'+s[e].name+'<br><br><center><textarea class="description" id="des-'+e+'">';null!=s[e].description&&(t+=s[e].description),t+='</textarea><br><button class="delete" id="del-'+e+'">Remove</button></center></div>',$("#students-display").html(t)}$(".student-info").each((function(){$(this).data("clicked","false")})),$(".student-info").click((function(){c||d||("false"==$(this).data("clicked")?($(this).css("height","185px"),$(this).data("clicked","true")):($(this).css("height","30px"),$(this).data("clicked","false")))})),$(".description").hover((function(){c=!0}),(function(){c=!1})),$(".description").bind("input propertychange",(function(){s[parseInt($(this).attr("id").split("-")[1])].description=$(this).val(),x()})),$(".delete").click((function(){var t=parseInt($(this).attr("id").split("-")[1]);swal({title:"Are you sure you want to remove "+s[t].name+"?",text:"Once deleted, it will not be able to recovered",icon:"warning",buttons:!0,dangerMode:!0}).then(e=>{if(e){s.splice(t,1),x(),$("#students-container").html("");for(let t=0;t<s.length;t++)I(t);$("#students-display").html(""),w(),d=!1;for(let t=0;t<h.length;t++)if(h[t]==g){$(".moveableheader").css("background-color",p[t]);break}}})})),$(".delete").hover((function(){d=!0}),(function(){d=!1}))}function x(){0==i?n.zero=s:1==i?n.first=s:2==i?n.second=s:3==i?n.third=s:4==i?n.fourth=s:5==i?n.fifth=s:6==i?n.sixth=s:7==i&&(n.seventh=s),o.ref.set({classes:n},{merge:!0})}function I(t){var e="",o=0;for(let n=0;n<u;n++){e+="<tr id='table-"+t+"-"+n+"'>";for(let t=0;t<f;t++)e+="<th data-spot='"+o+"'></th>",o++;e+="</tr>"}var n=$("#students-container").html()+'<div class="moveable" id="moveable-'+t+'">\n\n    <div class="moveableheader" id="moveable-'+t+'header">'+s[t].name+"</div>\n\n    <center>\n\n    <table>"+e+"</table>\n\n    </center>\n\n    </div>";if($("#students-container").html(n),$(".moveableheader").css("background-color"),$("#moveable-"+t).draggable(),$(".moveable").click((function(){if(!S)if("none"==$("#slider").css("display"))$("#slider").fadeIn(),$(this).css("outline","2px solid yellow"),l=$(this).attr("id"),$("#slider").slider("value",s[j(l)].rotation);else if(l==$(this).attr("id"))$("#slider").fadeOut(),$(this).css("outline","none"),l="";else{for(let t=0;t<s.length;t++)$("#moveable-"+t).css("outline","none");$(this).css("outline","2px solid yellow"),l=$(this).attr("id"),$("#slider").slider("value",s[j(l)].rotation)}})),$(".moveable").hover((function(){r=$(this).attr("id")}),(function(){r=""})),$("th").click((function(){if("rgb(255, 255, 0)"!=$(this).css("background-color")){$(this).css("background-color","rgb(255, 255, 0)");var t=j(r);if(null==s[t].spots||s[t].spots.length!=f*u){s[t].spots=new Array;for(let e=0;e<f*u;e++)s[t].spots.push(!1)}s[t].spots[$(this).data("spot")]=!0}else $(this).css("background-color","#f1f1f1"),t=j(r),null!=s[t].spots&&(s[t].spots[$(this).data("spot")]=!1);console.log(s[t].spots),x()})),$("th").hover((function(){S=!0}),(function(){S=!1})),$(".moveable").draggable({stop:function(t,e){var o=e.helper.position();o.top<0&&(o.top=0,$(this).css("top",o.top)),o.left<0&&(o.left=0,$(this).css("left",o.left)),console.log("Student position: "+$(this).css("top")+" "+$(this).css("left")),s[parseInt($(this).attr("id").split("-")[1])].pos=o,x(),$(this).draggable()}}),null!=s[t].pos&&($("#moveable-"+t).css("top",s[t].pos.top),$("#moveable-"+t).css("left",s[t].pos.left)),null!=s[t].rotation?$("#moveable-"+t).css("transform","rotate("+s[t].rotation+"deg)"):s[t].rotation=0,null!=s[t].spots)for(let e=0;e<s[t].spots.length;e++)if(1==s[t].spots[e]){var i="#table-"+t+"-"+parseInt(e/f),a=$(i+" > th")[e-f*parseInt(e/f)];$(i).find(a).css("background-color","rgb(255, 255, 0)")}}$("#tutorial-btn").click((function(){m?($("#tutorial-video").fadeOut(),$("#settings-window").css("height","300px"),$("#settings-background").css("height","100vh"),$("#down").css("transform","rotate(45deg)"),m=!1):($("#tutorial-video").fadeIn(),$("#settings-window").css("height","590px"),$("#settings-background").css("height","calc(100vh + 300px)"),$("#down").css("transform","rotate(225deg)"),m=!0)})),$("#settings").click((function(){$("#settings-background").show(),M("#settings-background","fadeIn")})),$("#exit").click((function(){$("#pull-bar").css("left","-300px"),$("#pull").fadeIn(),!1})),$("#exit-settings").click((function(){M("#settings-background","fadeOut",(function(){$("#settings-background").hide()}))})),$("#pull").click((function(){$("#pull-bar").css("left","0px"),M("#pull","fadeOut",()=>{$("#pull").hide()}),!0})),$("#add-btn").click((function(){if(a)if(""!=$("#name-input").val()){s.push({name:$("#name-input").val(),rotation:0,pos:{left:310,top:30}}),$("#name-input").val(""),I(s.length-1),O(),console.log(o),x(),w();for(let t=0;t<h.length;t++)if(h[t]==g){$(".moveableheader").css("background-color",p[t]);break}}else swal("Name Missing","The name field is empty. Please try again.","error")})),$("#randomize").click((function(){var t,e,o;for(let n=0;n<s.length;n++)t=s[n].pos,e=s[n].rotation,o=Math.round(Math.random()*s.length),s[n].pos=s[o].pos,s[n].rotation=s[o].rotation,s[o].pos=t,s[o].rotation=e;$("#students-container").html("");for(let t=0;t<s.length;t++)I(t);x()})),$("#sync").click((function(){var t;for(let e=0;e<8;e++)if(e!=i){t=y(e);for(let e=0;e<s.length&&e<t.length;e++)t[e].pos=s[e].pos,t[e].rotation=s[e].rotation}x()})),$("#class-select").change((function(){s=y(parseInt($(this).find("option:selected").attr("value"))),i=parseInt($(this).find("option:selected").attr("value")),w(),$("#students-container").html("");for(let t=0;t<s.length;t++)I(t)})),$("#rows-select").change((function(){u=parseInt($(this).find("option:selected").attr("value")),k(),$("#students-container").html("");for(let t=0;t<s.length;t++)I(t);for(let t=0;t<h.length;t++)if(h[t]==g){$("#color-"+h[t]).css("box-shadow","0 0 0 1.7pt black"),$(".moveableheader").css("background-color",p[t]),console.log($(".moveableheader"));break}})),$("#cols-select").change((function(){f=parseInt($(this).find("option:selected").attr("value")),k(),$("#students-container").html("");for(let t=0;t<s.length;t++)I(t);for(let t=0;t<h.length;t++)if(h[t]==g){$("#color-"+h[t]).css("box-shadow","0 0 0 1.7pt black"),$(".moveableheader").css("background-color",p[t]),console.log($(".moveableheader"));break}}));var S=!1;function O(){s.sort((t,e)=>t.name>e.name?1:t.name===e.name&&t.rotation>e.rotation?1:-1)}function j(t){return parseInt(t.split("-")[1])}$((function(){$("#slider").slider({min:0,max:360,step:15,slide:function(t,e){$(this).slider("value",e.value),""!=l&&($("#"+l).css("transform","rotate("+e.value+"deg)"),s[j(l)].rotation=e.value,x())}})}));firebase.initializeApp({apiKey:"AIzaSyBwWDT9E_6XYpHQ_JChBiuwVJHGhVBB1VY",authDomain:"seat-chart-47c86.firebaseapp.com",databaseURL:"https://seat-chart-47c86.firebaseio.com",projectId:"seat-chart-47c86",storageBucket:"seat-chart-47c86.appspot.com",messagingSenderId:"331535551228",appId:"1:331535551228:web:4c359eef99d0e9f3"});firebase.firestore();function M(t,e,o){const n=document.querySelector(t);n.classList.add("animated",e),n.addEventListener("animationend",(function t(){n.classList.remove("animated",e),n.removeEventListener("animationend",t),"function"==typeof o&&o()}))}}]);